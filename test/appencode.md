[appencode]()
# Преобразование кодировок

##### Принимаемые элементы:

`replace:` текст, использующийся для замены символов. По умолчанию используется `uFFFD` для символов Unicode и `?` для других символов;

`:invalid => :replace` - заменяются ошибочные байты;

`:undef => :replace` - заменяются отсутствующие символы;

`:fallback => encoding` - изменяется кодировка отсутствующих символов;

`:xml => :text` - символы из XML CharData экранируются. Результат может быть использован в HTML 4.0:

+ & на `&amp`;
+ < на `&lt`;
+ > на `&gt`;
+ отсутствующие символы на байты вида `&x` (где * - цифра в шестнадцатеричной системе счисления).

`:xml => :attr` - символы из XML AttrValue экранируются. Результат выделяется двойными кавычками и может быть использован для значений свойств в HTML 4.0:

+ & на `&amp`;
+ < на `&lt`;
+ > на `&gt`;
+ `"` на `&quot`;
+ отсутствующие символы на байты вида `&x` (где * - цифра в шестнадцатеричной системе счисления).

`cr_newline:` true - символы LF (\n) заменяются на CR (\r);

`crlf_newline:` true - символы LF (\n) заменяются на CRLF (\r\n);

`universal_newline:` true - символы CR (\r) и CRLF (\r\n) заменяются на LF (\n).

*****