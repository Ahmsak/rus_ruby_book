[appbin]()
# Запуск программы

##### Ключи:

`--copyright` - отображение сведений о копирайте;

`--version` - отображение версии интерпретатора;

`-(-h)elp` - отображение справочной информации;

`-0 [CODEPOINT]` - символ перевода строки при чтении из потока (`$/`). Кодовая позиция задается в восьмеричной системе счисления.

+ Если число не указано, то строки разделятся не будут;
+ Если используется -00, то в качестве разделителя будут использоваться два символа перевода строки, идущих один за другим;
+ Если используется -0777, то файлы буду обрабатываться как одна большая строка.

`-C (-X) DIR` - базовый каталог;

`--encoding (-E) EXTERNAL[:INTERNAL]` - внешняя и внутренняя кодировки;

`-F PATTERN` - разделитель для частей текста (`$;`), использующийся при вызове метода `.split`. В качестве образца передаются символы или тело регулярного выражения;

`-I DIRS` - каталоги, добавляемые в начало `$LOAD_PATH ($:)` и использующиеся для поиска подключаемых библиотек. Каталоги разделяются двоеточием (Linux) или точкой с запятой (Windows);

`-K ENCODING` - внешняя и внутренняя кодировки.

+ _e_ - EUC-JP;
  _s_ - Windows-31J (CP932);
  _u_ - UTF-8;
  _n_ - ASCII-8BIT (BINARY).

`-S` - поиск программы с помощью переменной окружения PATH;

`-T [SECURITY]` - уровень безопасности для программы (по умолчанию 1);

`-U` - UTF-8 в качестве внутренней кодировки;

`-W [VERBOSE]` - степень подробности отладочной информации:

+ _0_ - без предупреждений, `$VERBOSE` ссылается на nil;
  _1_ - средний уровень, `$VERBOSE` ссылается на false;
  _2_ (по умолчанию) - выводятся все предупреждения, `$VERBOSE` ссылается на true.

`-a` - автоматическое разделение строк при использовании ключей `-n` или `-p`. В начале каждой итерации цикла выполняется код: `$F = $_.split!`;

`-c`- проверка синтаксиса. Если ошибок не найдено, то в стандартный поток для вывода передается `"Syntax OK"`;

`-(-d)ebug` - режим отладки, `$DEBUG` ссылается на true. Ключ позволяет писать код для отладки программы, который будет выполняться только если `$DEBUG` ссылается на true;
`{verbatim} if $DEBUG`

`-e verbatim` - выполнение произвольного кода;

`-i [EXT]` - режим редактирования, позволяющий записывать данные с помощью ARGF. Расширение используется для создания резервных копий;

`-l` - автоматическое изменение строк кода. При этом, во-первых, `$\` копирует `$/`, и, во-вторых, при чтении строк для каждой вызывается метод .chop!;

`-n` - программа выполняется в теле цикла (каждая строка программы выполняется отдельно):

```ruby
  while gets
    # code
  end
```

`-p` - программа выполняется в теле цикла (каждая строка программы выполняется отдельно, результат выполнения передается в стандартный поток для вывода):

```ruby
  while gets
    # code
  end
  print
```

`-r LIB` - подключение библиотеки перед выполнением с помощью `.require`;

`-s` - предварительная обработка аргументов, начинающихся с дефиса. Обработка выполняется до любого обычного аргумента или символов `--`. Обработанные аргументы будут удалены из ARGV.

+ Для аргументов вида `-x=y`, `$x` в теле программы будет ссылаться на y;
+	Для аргументов вида `-x`, `$x` в теле программы будет ссылаться на true.

`-(-v)erbose` - программа запускается с ключом -w. Если имя программы не указано, то отображается версия интерпретатора. Ключ позволяет писать код для отладки программы, который будет выполняться только если `$VERBOSE` ссылается на true;
`{verbatim} if $VERBOSE`

`-w` - отображаются все возможные предупреждения, `$VERBOSE` ссылается на true;

`-x [DIR]` - отображает код программы, начиная со строки, начинающейся с `!#` и содержащей `ruby`. Конец программы должен быть указан с помощью EOF, ^D (control-D), ^Z (control-Z), или `__END__`. Переданный каталог используется вместо базового;

`-(-y)ydebug` - используется для отладки интерпретатора;

`--disable-...` или `--enable-...` - включение или отключение:

+ _gems_ - поиск подключаемых библиотек в пакетах;
  _rubyopt_ - использования переменной окружения RUBYOPT;
  _all_ - выполнение двух перечисленных действий.

`--dump TARGET` - используется для отладки интерпретатора.

*****

##### Переменные окружения:

`RUBYLIB` - список каталогов, используемых для поиска подключаемых библиотек;

`RUBYOPT` - список ключей, используемых для запуска программ. Могут быть добавлены только ключи -d, -E, -I, -K, -r, -T, -U, -v, -w, -W, `--debug, --disable-...` и `--enable-...`;

`RUBYPATH` - список каталогов, в которых выполняется поиск программы;

`RUBYSHELL` - путь к оболочке ОС. Переменная действительна только для mswin32, mingw32, и OS/2;

`PATH` - путь к интерпретатору.

*****

Доступ к перемнным окружения может быть получен с помощью ENV, объекта, подобный ассоциативному массиву. Для объекта определен метод .to_hash, преобразующий его в настоящий ассоциативный массив.

##### Глобальные переменные:

`$F` - последний результат выполнения выражения `$_.split`. Переменная определена, если программа запущена с ключами -a, -n или -p;

`$-W` - степень подробности предупреждений;

`$-i` - расширения, используемое для резервных копий;

`$-d # -> bool`;

`$-l # -> bool`;

`$-v # -> bool`;

`$-p # -> bool`;

`$-a # -> bool`;

`$; ($-F)` - разделитель частей текста при вызове метода `.split` (по умолчанию nil);

`$/ ($-0)` - символ перевода строки (по умолчанию - `"\n"`);

`$\\` - разделитель, добавляемый при передаче объектов в поток (по умолчанию nil);

`$,` - разделитель записываемых элементов(по умолчанию nil).

`$~` - экземпляр класса MatchData для последнего поиска совпадений;

`$&` - текст найденного совпадения;

``$` `` - текст перед найденным совпадением;

`$'` - текст после найденного совпадения;

`$+` - текст совпадения с группой;

`$1, $2, $3, $4, $5, $6, $7, $8, $9` - текст совпадения с группой, имеющей соответствующий индекс;

`$LOAD_FEAUTURES ($")` - массив всех подключенных библиотек;

`$LOAD_PATH ($:, $-I)` - массив каталогов для поиска подключаемых библиотек;

`$.` - позиция последней прочитанной строки из потока;

`$_` - последняя прочитанная строка из потока;

`$!` - последнее вызванное событие;

`$@` - расположение последнего вызванного события;

`$DEBUG` - true, если программа запущена с ключом `-(-d)ebug`;

`$VERBOSE ($-v, $-w)`

+ _nil_, если программа запущена с ключом `-W0`;
  _true_, если программа запущена с ключами `-w` или `-(-v)erbose`;
  _false_ в остальных случаях.

`$$` - идентификатор текущего процесса;

`$?` - статус последнего выполненного процесса;

`$FILENAME` - относительный путь к текущему файлу в ARGF. При взаимодействии с стандартным потоком для ввода возвращается `"-"`;

`$SAFE` - текущий уровень безопасности.

*****