# Тестирование

> Если вы хотите улучшить программу, вы должны не тестировать больше, а программировать лучше.

## Основы

Любая, даже самая маленькая программа, не может гарантировать правильной работы. Тестирование программ и исправление обнаруженных ошибок - один из самых трудоемких этапов разработки. Он не заканчивается и после публикации приложения.

Тестирование - это средство обнаружения ошибок. Для поиска и устранения их причин выполняется отладка. Устранение дефектов - это дорогой и длительный процесс. Легче сразу создать высококачественную программу, чем создать низкокачественную и исправлять ее.

Тесты создаются для обнаружения ошибок, которые никогда не должны происходить, в отличии от обработки исключений, возникновение которых возможно и предусмотрено реализацией.

Обзор кода часто эффективнее, чем тестирование, но выполнение тестов позволяет проверить влияние изменений, внесенных в ходе разработки.

Существует множество подходов к тестированию приложения, но в основном грамотное тестирование - процесс прежде всего творческий.

В общем случае тестирование приложения разделяется на четыре уровня:

+ _Модульное тестирование_ - тестирование минимально возможного фрагмента кода (unit test);  
  _Интеграционное тестирование_ - тестирование взаимодействия между различными элементами приложения;  
  _Функциональное тестирование_ - тестирование задач, выполняемых с помощью приложения;  
  _Тестирование производительности_ - тестирование скорости выполнения программы и затрачиваемых на это ресурсов компьютера.

Обычно для облегчения тестирования код разделяют на работающий с проверенными и непроверенными данными.

При выполнении теста ему передаются как заведомо правильные, так и заведомо неправильные данные.

Для тестирования программы может быть использована команда `testrb` (исполняемый файл на Ruby, использующий стандартную библиотеку Test::Unit).

Программа принимает путь к файлу с тестами (или выполняет все тесты в каталоге) и выводит результатаы тестирования.

Для проверки выполнения небольших кусков кода может быть использован интерактивный терминал irb.

## TDD

Одна из популярных техник тестирования - разработка, управляемая тестами (TDD, Test-Drive Development). Использование этой техники разделено на следующие этапы:

+ Написание кода, тестирующего часть приложения;
+ Выполнение теста. Получение отрицательного результата (этот этап необходим для проверки корректности теста);
+ Написание кода приложения;
+ Выполнение теста. Получение положительного результата.

Создание тестов перед кодом фокусирует внимание на требованиях к программе (т.е. необходимо понимание для чего она создается).

Тестирование -> написание кода -> удовлетворение требований -> улучшение кода (рефакторинг).