# Использование библиотек кода

Чтобы облегчить повторное использование кода программу разделяют на библиотеки. Библиотека - это файл, содержащий набор модулей и классов (хотя обычно каждая библиотека содержит только один модуль или класс).

Для использования библиотеки требуется явно объявить это интерпретатору. В свою очередь, интерпретатор автоматически находит и извлекает содержимое библиотеки. Обычно используемые библиотеки объявляются в начале программы.

Поиск всех объявленных библиотек происходит в каталогах, хранящихся в глобальном массиве `$LOAD_PATH ($:)`. Поиск файла выполняется, начиная с первого элемента (начиная с первого каталога).

`.require(path) # -> bool`

Используется для однократной загрузки библиотеки. Названия загруженных библиотек сохраняются в массиве `$LOAD_FEAUTURES ($”)`. Каждая библиотека может быть загружена только один раз. Уровень безопасности объявляемой библиотеки должен быть равен 0.

~~~~~ note
На самом деле любую библиотеку можно загружать произвольное число раз, если перед этим удалять её название из массива.
~~~~~

В названии файла библиотеки расширение обычно не указывается. По умолчанию обрабатывается расширение `.rb`. Если файла с таким расширением не найдено, то будет произведен поиск бинарного файла с тем же именем (например, с расширениями `.so` или `.dll`).

`.require_relative(path) # -> bool`

Версия предыдущего метода, использующаяся для поиска библиотек относительно базового каталога программы.

`.load( path, anonym = false )`

Используется для многократной загрузки библиотеки. В имени файла должно быть указано его расширение.

Код библиотеки может быть выполнен в теле анонимного модуля. В этом случае она не будет влиять на глобальную область видимости основной программы.

`.autoload( name, path ) # -> nil`

Используется для автоматизации загрузки библиотек (отложенная загрузка). Поиск библиотеки выполняется только при вызове соответствующей константы.

`.autoload?(name) # -> path`

Используется для получения названия библиотеки, загружаемой при получении соответствующей константы. Если такая библиотека не объявлена, то возвращается nil.

Для загрузки библиотек относительно констант вызываемых в теле определенного модуля существуют версии методов `module.autoload` и `module.autoload?`.